{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _templateObject = _taggedTemplateLiteralLoose([\"\\n  width: 100%;\\n  position: relative;\\n\"], [\"\\n  width: 100%;\\n  position: relative;\\n\"]);\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  strings.raw = raw;\n  return strings;\n}\n/* global document */\n\n\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport List from \"./components/List\";\nimport { deepEqual } from \"./utils\";\nvar Wrapper = styled.div(_templateObject);\n\nvar GooglePlacesSuggest = function (_React$Component) {\n  _inherits(GooglePlacesSuggest, _React$Component);\n\n  function GooglePlacesSuggest(props) {\n    _classCallCheck(this, GooglePlacesSuggest);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this));\n\n    _this.hasFocus = false;\n    _this.state = {\n      focusedPredictionIndex: 0,\n      sessionToken: \"\",\n      predictions: [],\n      open: !!props.autocompletionRequest && props.autocompletionRequest.input\n    };\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    _this.onFocusChange = _this.onFocusChange.bind(_this);\n    _this.handleDOMClick = _this.handleDOMClick.bind(_this);\n    return _this;\n  }\n\n  GooglePlacesSuggest.prototype.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n    this.updatePredictions(this.props.autocompletionRequest);\n    document.addEventListener(\"click\", this.handleDOMClick);\n  };\n\n  GooglePlacesSuggest.prototype.componentWillUnmount = function componentWillUnmount() {\n    document.removeEventListener(\"click\", this.handleDOMClick);\n  };\n\n  GooglePlacesSuggest.prototype.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n    if (!deepEqual(this.props.autocompletionRequest, nextProps.autocompletionRequest) && nextProps.autocompletionRequest) {\n      this.updatePredictions(nextProps.autocompletionRequest);\n    }\n  };\n\n  GooglePlacesSuggest.prototype.handleSelectPrediction = function handleSelectPrediction(suggest) {\n    var _this2 = this;\n\n    var onSelectSuggest = this.props.onSelectSuggest;\n    this.setState({\n      open: false,\n      predictions: []\n    }, function () {\n      _this2.hasFocus = false;\n\n      _this2.placesDetails(suggest.place_id, function (result) {\n        onSelectSuggest(result, suggest);\n      });\n\n      _this2.setState({\n        sessionToken: \"\"\n      });\n    });\n  };\n\n  GooglePlacesSuggest.prototype.updatePredictions = function updatePredictions(autocompletionRequest) {\n    var _this3 = this;\n\n    var googleMaps = this.props.googleMaps;\n    var autocompleteService = new googleMaps.places.AutocompleteService();\n\n    if (!this.state.sessionToken) {\n      this.setState({\n        sessionToken: new googleMaps.places.AutocompleteSessionToken()\n      });\n    }\n\n    if (!autocompletionRequest || !autocompletionRequest.input) {\n      this.setState({\n        open: false,\n        predictions: []\n      }, function () {\n        return _this3.hasFocus = false;\n      });\n      return;\n    }\n\n    autocompleteService.getPlacePredictions(_extends({}, autocompletionRequest, {\n      // https://developers.google.com/maps/documentation/javascript/reference?hl=fr#AutocompletionRequest\n      sessionToken: this.state.sessionToken\n    }), function (predictions, status) {\n      _this3.props.onStatusUpdate(status);\n\n      if (!predictions) {\n        _this3.setState({\n          open: true,\n          predictions: []\n        });\n\n        return;\n      }\n\n      _this3.setState({\n        focusedPredictionIndex: 0,\n        open: true,\n        predictions: predictions\n      });\n    });\n  };\n\n  GooglePlacesSuggest.prototype.placesDetails = function placesDetails(placeId, callback) {\n    var googleMaps = this.props.googleMaps;\n    var map = new googleMaps.Map(document.createElement(\"map\"));\n    var placesService = new googleMaps.places.PlacesService(map);\n    placesService.getDetails({\n      placeId: placeId,\n      fields: [\"geometry\", \"address_components\", \"types\", \"formatted_address\"],\n      sessionToken: this.state.sessionToken\n    }, function (result, status) {\n      if (status === googleMaps.places.PlacesServiceStatus.OK) {\n        callback(result);\n      } else {\n        // eslint-disable-next-line\n        console.error(\"Places service error: \" + status);\n      }\n    });\n  };\n\n  GooglePlacesSuggest.prototype.handleKeyDown = function handleKeyDown(e) {\n    var _state = this.state,\n        focusedPredictionIndex = _state.focusedPredictionIndex,\n        predictions = _state.predictions;\n\n    if (predictions.length > 0) {\n      if (e.key === \"Enter\") {\n        e.preventDefault();\n        this.handleSelectPrediction(predictions[focusedPredictionIndex]);\n      } else if (e.key === \"ArrowUp\") {\n        if (predictions.length > 0 && focusedPredictionIndex > 0) {\n          this.focusPrediction(focusedPredictionIndex - 1);\n        }\n      } else if (e.key === \"ArrowDown\") {\n        if (predictions.length > 0 && focusedPredictionIndex < predictions.length - 1) {\n          this.focusPrediction(focusedPredictionIndex + 1);\n        }\n      }\n    } else if (e.key === \"Enter\") {\n      e.preventDefault();\n      var onNoResult = this.props.onNoResult;\n      onNoResult();\n    }\n  };\n\n  GooglePlacesSuggest.prototype.focusPrediction = function focusPrediction(index) {\n    this.setState({\n      focusedPredictionIndex: index\n    });\n  };\n\n  GooglePlacesSuggest.prototype.onFocusChange = function onFocusChange(val) {\n    this.hasFocus = val;\n  };\n\n  GooglePlacesSuggest.prototype.handleDOMClick = function handleDOMClick() {\n    if (!this.hasFocus && this.state.open) {\n      this.setState({\n        open: false\n      });\n    }\n  };\n\n  GooglePlacesSuggest.prototype.render = function render() {\n    var _this4 = this;\n\n    var _state2 = this.state,\n        focusedPredictionIndex = _state2.focusedPredictionIndex,\n        open = _state2.open,\n        predictions = _state2.predictions;\n    var _props = this.props,\n        children = _props.children,\n        customContainerRender = _props.customContainerRender,\n        customRender = _props.customRender,\n        displayPoweredByGoogle = _props.displayPoweredByGoogle,\n        textNoResults = _props.textNoResults;\n    return React.createElement(Wrapper, {\n      onKeyDown: this.handleKeyDown\n    }, children, open && React.createElement(List, {\n      items: predictions,\n      activeItemIndex: focusedPredictionIndex,\n      customContainerRender: customContainerRender,\n      customRender: customRender,\n      displayPoweredByGoogle: displayPoweredByGoogle,\n      onSelect: function onSelect(suggest) {\n        return _this4.handleSelectPrediction(suggest);\n      },\n      textNoResults: textNoResults,\n      onFocusChange: this.onFocusChange\n    }));\n  };\n\n  return GooglePlacesSuggest;\n}(React.Component);\n\nGooglePlacesSuggest.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.any.isRequired,\n  googleMaps: PropTypes.object.isRequired,\n  onNoResult: PropTypes.func,\n  onSelectSuggest: PropTypes.func,\n  onStatusUpdate: PropTypes.func,\n  customContainerRender: PropTypes.func,\n  customRender: PropTypes.func,\n  displayPoweredByGoogle: PropTypes.bool,\n  autocompletionRequest: PropTypes.shape({\n    input: PropTypes.string.isRequired\n  }).isRequired,\n  textNoResults: PropTypes.string\n} : {};\nGooglePlacesSuggest.defaultProps = {\n  displayPoweredByGoogle: true,\n  onNoResult: function onNoResult() {},\n  onSelectSuggest: function onSelectSuggest() {},\n  onStatusUpdate: function onStatusUpdate() {},\n  textNoResults: \"No results\"\n};\nexport default GooglePlacesSuggest;","map":{"version":3,"sources":["C:/JITENDRA/Taxi-business-customer/node_modules/react-google-places-suggest/es/index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_templateObject","_taggedTemplateLiteralLoose","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","strings","raw","PropTypes","React","styled","List","deepEqual","Wrapper","div","GooglePlacesSuggest","_React$Component","props","_this","hasFocus","state","focusedPredictionIndex","sessionToken","predictions","open","autocompletionRequest","input","handleKeyDown","bind","onFocusChange","handleDOMClick","UNSAFE_componentWillMount","updatePredictions","document","addEventListener","componentWillUnmount","removeEventListener","UNSAFE_componentWillReceiveProps","nextProps","handleSelectPrediction","suggest","_this2","onSelectSuggest","setState","placesDetails","place_id","result","_this3","googleMaps","autocompleteService","places","AutocompleteService","AutocompleteSessionToken","getPlacePredictions","status","onStatusUpdate","placeId","callback","map","Map","createElement","placesService","PlacesService","getDetails","fields","PlacesServiceStatus","OK","console","error","e","_state","preventDefault","focusPrediction","onNoResult","index","val","render","_this4","_state2","_props","children","customContainerRender","customRender","displayPoweredByGoogle","textNoResults","onKeyDown","items","activeItemIndex","onSelect","Component","propTypes","process","env","NODE_ENV","any","isRequired","object","func","bool","shape","string","defaultProps"],"mappings":"AAAA,IAAIA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,SAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIN,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,QAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOL,MAAP;AAAgB,CAAhQ;;AAEA,IAAIS,eAAe,GAAGC,2BAA2B,CAAC,CAAC,2CAAD,CAAD,EAAgD,CAAC,2CAAD,CAAhD,CAAjD;;AAEA,SAASC,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,0BAAT,CAAoCC,IAApC,EAA0CR,IAA1C,EAAgD;AAAE,MAAI,CAACQ,IAAL,EAAW;AAAE,UAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAOT,IAAI,KAAK,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAAjD,CAAJ,GAAmEA,IAAnE,GAA0EQ,IAAjF;AAAwF;;AAEhP,SAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAIN,SAAJ,CAAc,6DAA6D,OAAOM,UAAlF,CAAN;AAAsG;;AAACD,EAAAA,QAAQ,CAACb,SAAT,GAAqBR,MAAM,CAACuB,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACd,SAAvC,EAAkD;AAAEgB,IAAAA,WAAW,EAAE;AAAEC,MAAAA,KAAK,EAAEJ,QAAT;AAAmBK,MAAAA,UAAU,EAAE,KAA/B;AAAsCC,MAAAA,QAAQ,EAAE,IAAhD;AAAsDC,MAAAA,YAAY,EAAE;AAApE;AAAf,GAAlD,CAArB;AAAqK,MAAIN,UAAJ,EAAgBtB,MAAM,CAAC6B,cAAP,GAAwB7B,MAAM,CAAC6B,cAAP,CAAsBR,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,QAAQ,CAACS,SAAT,GAAqBR,UAA3F;AAAwG;;AAE9e,SAASV,2BAAT,CAAqCmB,OAArC,EAA8CC,GAA9C,EAAmD;AAAED,EAAAA,OAAO,CAACC,GAAR,GAAcA,GAAd;AAAmB,SAAOD,OAAP;AAAiB;AAEzF;;;AACA,OAAOE,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,SAASC,SAAT,QAA0B,SAA1B;AAEA,IAAIC,OAAO,GAAGH,MAAM,CAACI,GAAP,CAAW5B,eAAX,CAAd;;AAEA,IAAI6B,mBAAmB,GAAG,UAAUC,gBAAV,EAA4B;AACpDrB,EAAAA,SAAS,CAACoB,mBAAD,EAAsBC,gBAAtB,CAAT;;AAEA,WAASD,mBAAT,CAA6BE,KAA7B,EAAoC;AAClC7B,IAAAA,eAAe,CAAC,IAAD,EAAO2B,mBAAP,CAAf;;AAEA,QAAIG,KAAK,GAAG1B,0BAA0B,CAAC,IAAD,EAAOwB,gBAAgB,CAAC/B,IAAjB,CAAsB,IAAtB,CAAP,CAAtC;;AAEAiC,IAAAA,KAAK,CAACC,QAAN,GAAiB,KAAjB;AAGAD,IAAAA,KAAK,CAACE,KAAN,GAAc;AACZC,MAAAA,sBAAsB,EAAE,CADZ;AAEZC,MAAAA,YAAY,EAAE,EAFF;AAGZC,MAAAA,WAAW,EAAE,EAHD;AAIZC,MAAAA,IAAI,EAAE,CAAC,CAACP,KAAK,CAACQ,qBAAR,IAAiCR,KAAK,CAACQ,qBAAN,CAA4BC;AAJvD,KAAd;AAOAR,IAAAA,KAAK,CAACS,aAAN,GAAsBT,KAAK,CAACS,aAAN,CAAoBC,IAApB,CAAyBV,KAAzB,CAAtB;AACAA,IAAAA,KAAK,CAACW,aAAN,GAAsBX,KAAK,CAACW,aAAN,CAAoBD,IAApB,CAAyBV,KAAzB,CAAtB;AACAA,IAAAA,KAAK,CAACY,cAAN,GAAuBZ,KAAK,CAACY,cAAN,CAAqBF,IAArB,CAA0BV,KAA1B,CAAvB;AACA,WAAOA,KAAP;AACD;;AAEDH,EAAAA,mBAAmB,CAAChC,SAApB,CAA8BgD,yBAA9B,GAA0D,SAASA,yBAAT,GAAqC;AAC7F,SAAKC,iBAAL,CAAuB,KAAKf,KAAL,CAAWQ,qBAAlC;AACAQ,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmC,KAAKJ,cAAxC;AACD,GAHD;;AAKAf,EAAAA,mBAAmB,CAAChC,SAApB,CAA8BoD,oBAA9B,GAAqD,SAASA,oBAAT,GAAgC;AACnFF,IAAAA,QAAQ,CAACG,mBAAT,CAA6B,OAA7B,EAAsC,KAAKN,cAA3C;AACD,GAFD;;AAIAf,EAAAA,mBAAmB,CAAChC,SAApB,CAA8BsD,gCAA9B,GAAiE,SAASA,gCAAT,CAA0CC,SAA1C,EAAqD;AACpH,QAAI,CAAC1B,SAAS,CAAC,KAAKK,KAAL,CAAWQ,qBAAZ,EAAmCa,SAAS,CAACb,qBAA7C,CAAV,IAAiFa,SAAS,CAACb,qBAA/F,EAAsH;AACpH,WAAKO,iBAAL,CAAuBM,SAAS,CAACb,qBAAjC;AACD;AACF,GAJD;;AAMAV,EAAAA,mBAAmB,CAAChC,SAApB,CAA8BwD,sBAA9B,GAAuD,SAASA,sBAAT,CAAgCC,OAAhC,EAAyC;AAC9F,QAAIC,MAAM,GAAG,IAAb;;AAEA,QAAIC,eAAe,GAAG,KAAKzB,KAAL,CAAWyB,eAAjC;AAEA,SAAKC,QAAL,CAAc;AACZnB,MAAAA,IAAI,EAAE,KADM;AAEZD,MAAAA,WAAW,EAAE;AAFD,KAAd,EAGG,YAAY;AACbkB,MAAAA,MAAM,CAACtB,QAAP,GAAkB,KAAlB;;AACAsB,MAAAA,MAAM,CAACG,aAAP,CAAqBJ,OAAO,CAACK,QAA7B,EAAuC,UAAUC,MAAV,EAAkB;AACvDJ,QAAAA,eAAe,CAACI,MAAD,EAASN,OAAT,CAAf;AACD,OAFD;;AAGAC,MAAAA,MAAM,CAACE,QAAP,CAAgB;AACdrB,QAAAA,YAAY,EAAE;AADA,OAAhB;AAGD,KAXD;AAYD,GAjBD;;AAmBAP,EAAAA,mBAAmB,CAAChC,SAApB,CAA8BiD,iBAA9B,GAAkD,SAASA,iBAAT,CAA2BP,qBAA3B,EAAkD;AAClG,QAAIsB,MAAM,GAAG,IAAb;;AAEA,QAAIC,UAAU,GAAG,KAAK/B,KAAL,CAAW+B,UAA5B;AAEA,QAAIC,mBAAmB,GAAG,IAAID,UAAU,CAACE,MAAX,CAAkBC,mBAAtB,EAA1B;;AACA,QAAI,CAAC,KAAK/B,KAAL,CAAWE,YAAhB,EAA8B;AAC5B,WAAKqB,QAAL,CAAc;AACZrB,QAAAA,YAAY,EAAE,IAAI0B,UAAU,CAACE,MAAX,CAAkBE,wBAAtB;AADF,OAAd;AAGD;;AACD,QAAI,CAAC3B,qBAAD,IAA0B,CAACA,qBAAqB,CAACC,KAArD,EAA4D;AAC1D,WAAKiB,QAAL,CAAc;AACZnB,QAAAA,IAAI,EAAE,KADM;AAEZD,QAAAA,WAAW,EAAE;AAFD,OAAd,EAGG,YAAY;AACb,eAAOwB,MAAM,CAAC5B,QAAP,GAAkB,KAAzB;AACD,OALD;AAMA;AACD;;AAED8B,IAAAA,mBAAmB,CAACI,mBAApB,CAAwC/E,QAAQ,CAAC,EAAD,EAAKmD,qBAAL,EAA4B;AAAE;AAC5EH,MAAAA,YAAY,EAAE,KAAKF,KAAL,CAAWE;AADiD,KAA5B,CAAhD,EAEI,UAAUC,WAAV,EAAuB+B,MAAvB,EAA+B;AACjCP,MAAAA,MAAM,CAAC9B,KAAP,CAAasC,cAAb,CAA4BD,MAA5B;;AACA,UAAI,CAAC/B,WAAL,EAAkB;AAChBwB,QAAAA,MAAM,CAACJ,QAAP,CAAgB;AAAEnB,UAAAA,IAAI,EAAE,IAAR;AAAcD,UAAAA,WAAW,EAAE;AAA3B,SAAhB;;AACA;AACD;;AACDwB,MAAAA,MAAM,CAACJ,QAAP,CAAgB;AACdtB,QAAAA,sBAAsB,EAAE,CADV;AAEdG,QAAAA,IAAI,EAAE,IAFQ;AAGdD,QAAAA,WAAW,EAAEA;AAHC,OAAhB;AAKD,KAbD;AAcD,GAnCD;;AAqCAR,EAAAA,mBAAmB,CAAChC,SAApB,CAA8B6D,aAA9B,GAA8C,SAASA,aAAT,CAAuBY,OAAvB,EAAgCC,QAAhC,EAA0C;AACtF,QAAIT,UAAU,GAAG,KAAK/B,KAAL,CAAW+B,UAA5B;AAEA,QAAIU,GAAG,GAAG,IAAIV,UAAU,CAACW,GAAf,CAAmB1B,QAAQ,CAAC2B,aAAT,CAAuB,KAAvB,CAAnB,CAAV;AAEA,QAAIC,aAAa,GAAG,IAAIb,UAAU,CAACE,MAAX,CAAkBY,aAAtB,CAAoCJ,GAApC,CAApB;AAEAG,IAAAA,aAAa,CAACE,UAAd,CAAyB;AACvBP,MAAAA,OAAO,EAAEA,OADc;AAEvBQ,MAAAA,MAAM,EAAE,CAAC,UAAD,EAAa,oBAAb,EAAmC,OAAnC,EAA4C,mBAA5C,CAFe;AAGvB1C,MAAAA,YAAY,EAAE,KAAKF,KAAL,CAAWE;AAHF,KAAzB,EAIG,UAAUwB,MAAV,EAAkBQ,MAAlB,EAA0B;AAC3B,UAAIA,MAAM,KAAKN,UAAU,CAACE,MAAX,CAAkBe,mBAAlB,CAAsCC,EAArD,EAAyD;AACvDT,QAAAA,QAAQ,CAACX,MAAD,CAAR;AACD,OAFD,MAEO;AACL;AACAqB,QAAAA,OAAO,CAACC,KAAR,CAAc,2BAA2Bd,MAAzC;AACD;AACF,KAXD;AAYD,GAnBD;;AAqBAvC,EAAAA,mBAAmB,CAAChC,SAApB,CAA8B4C,aAA9B,GAA8C,SAASA,aAAT,CAAuB0C,CAAvB,EAA0B;AACtE,QAAIC,MAAM,GAAG,KAAKlD,KAAlB;AAAA,QACIC,sBAAsB,GAAGiD,MAAM,CAACjD,sBADpC;AAAA,QAEIE,WAAW,GAAG+C,MAAM,CAAC/C,WAFzB;;AAKA,QAAIA,WAAW,CAAC3C,MAAZ,GAAqB,CAAzB,EAA4B;AAC1B,UAAIyF,CAAC,CAACvF,GAAF,KAAU,OAAd,EAAuB;AACrBuF,QAAAA,CAAC,CAACE,cAAF;AACA,aAAKhC,sBAAL,CAA4BhB,WAAW,CAACF,sBAAD,CAAvC;AACD,OAHD,MAGO,IAAIgD,CAAC,CAACvF,GAAF,KAAU,SAAd,EAAyB;AAC9B,YAAIyC,WAAW,CAAC3C,MAAZ,GAAqB,CAArB,IAA0ByC,sBAAsB,GAAG,CAAvD,EAA0D;AACxD,eAAKmD,eAAL,CAAqBnD,sBAAsB,GAAG,CAA9C;AACD;AACF,OAJM,MAIA,IAAIgD,CAAC,CAACvF,GAAF,KAAU,WAAd,EAA2B;AAChC,YAAIyC,WAAW,CAAC3C,MAAZ,GAAqB,CAArB,IAA0ByC,sBAAsB,GAAGE,WAAW,CAAC3C,MAAZ,GAAqB,CAA5E,EAA+E;AAC7E,eAAK4F,eAAL,CAAqBnD,sBAAsB,GAAG,CAA9C;AACD;AACF;AACF,KAbD,MAaO,IAAIgD,CAAC,CAACvF,GAAF,KAAU,OAAd,EAAuB;AAC5BuF,MAAAA,CAAC,CAACE,cAAF;AACA,UAAIE,UAAU,GAAG,KAAKxD,KAAL,CAAWwD,UAA5B;AAGAA,MAAAA,UAAU;AACX;AACF,GA1BD;;AA4BA1D,EAAAA,mBAAmB,CAAChC,SAApB,CAA8ByF,eAA9B,GAAgD,SAASA,eAAT,CAAyBE,KAAzB,EAAgC;AAC9E,SAAK/B,QAAL,CAAc;AAAEtB,MAAAA,sBAAsB,EAAEqD;AAA1B,KAAd;AACD,GAFD;;AAIA3D,EAAAA,mBAAmB,CAAChC,SAApB,CAA8B8C,aAA9B,GAA8C,SAASA,aAAT,CAAuB8C,GAAvB,EAA4B;AACxE,SAAKxD,QAAL,GAAgBwD,GAAhB;AACD,GAFD;;AAIA5D,EAAAA,mBAAmB,CAAChC,SAApB,CAA8B+C,cAA9B,GAA+C,SAASA,cAAT,GAA0B;AACvE,QAAI,CAAC,KAAKX,QAAN,IAAkB,KAAKC,KAAL,CAAWI,IAAjC,EAAuC;AACrC,WAAKmB,QAAL,CAAc;AAAEnB,QAAAA,IAAI,EAAE;AAAR,OAAd;AACD;AACF,GAJD;;AAMAT,EAAAA,mBAAmB,CAAChC,SAApB,CAA8B6F,MAA9B,GAAuC,SAASA,MAAT,GAAkB;AACvD,QAAIC,MAAM,GAAG,IAAb;;AAEA,QAAIC,OAAO,GAAG,KAAK1D,KAAnB;AAAA,QACIC,sBAAsB,GAAGyD,OAAO,CAACzD,sBADrC;AAAA,QAEIG,IAAI,GAAGsD,OAAO,CAACtD,IAFnB;AAAA,QAGID,WAAW,GAAGuD,OAAO,CAACvD,WAH1B;AAIA,QAAIwD,MAAM,GAAG,KAAK9D,KAAlB;AAAA,QACI+D,QAAQ,GAAGD,MAAM,CAACC,QADtB;AAAA,QAEIC,qBAAqB,GAAGF,MAAM,CAACE,qBAFnC;AAAA,QAGIC,YAAY,GAAGH,MAAM,CAACG,YAH1B;AAAA,QAIIC,sBAAsB,GAAGJ,MAAM,CAACI,sBAJpC;AAAA,QAKIC,aAAa,GAAGL,MAAM,CAACK,aAL3B;AAOA,WAAO3E,KAAK,CAACmD,aAAN,CACL/C,OADK,EAEL;AAAEwE,MAAAA,SAAS,EAAE,KAAK1D;AAAlB,KAFK,EAGLqD,QAHK,EAILxD,IAAI,IAAIf,KAAK,CAACmD,aAAN,CAAoBjD,IAApB,EAA0B;AAChC2E,MAAAA,KAAK,EAAE/D,WADyB;AAEhCgE,MAAAA,eAAe,EAAElE,sBAFe;AAGhC4D,MAAAA,qBAAqB,EAAEA,qBAHS;AAIhCC,MAAAA,YAAY,EAAEA,YAJkB;AAKhCC,MAAAA,sBAAsB,EAAEA,sBALQ;AAMhCK,MAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBhD,OAAlB,EAA2B;AACnC,eAAOqC,MAAM,CAACtC,sBAAP,CAA8BC,OAA9B,CAAP;AACD,OAR+B;AAShC4C,MAAAA,aAAa,EAAEA,aATiB;AAUhCvD,MAAAA,aAAa,EAAE,KAAKA;AAVY,KAA1B,CAJH,CAAP;AAiBD,GA/BD;;AAiCA,SAAOd,mBAAP;AACD,CAhMyB,CAgMxBN,KAAK,CAACgF,SAhMkB,CAA1B;;AAkMA1E,mBAAmB,CAAC2E,SAApB,GAAgCC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwC;AACtEb,EAAAA,QAAQ,EAAExE,SAAS,CAACsF,GAAV,CAAcC,UAD8C;AAEtE/C,EAAAA,UAAU,EAAExC,SAAS,CAACwF,MAAV,CAAiBD,UAFyC;AAGtEtB,EAAAA,UAAU,EAAEjE,SAAS,CAACyF,IAHgD;AAItEvD,EAAAA,eAAe,EAAElC,SAAS,CAACyF,IAJ2C;AAKtE1C,EAAAA,cAAc,EAAE/C,SAAS,CAACyF,IAL4C;AAMtEhB,EAAAA,qBAAqB,EAAEzE,SAAS,CAACyF,IANqC;AAOtEf,EAAAA,YAAY,EAAE1E,SAAS,CAACyF,IAP8C;AAQtEd,EAAAA,sBAAsB,EAAE3E,SAAS,CAAC0F,IARoC;AAStEzE,EAAAA,qBAAqB,EAAEjB,SAAS,CAAC2F,KAAV,CAAgB;AACrCzE,IAAAA,KAAK,EAAElB,SAAS,CAAC4F,MAAV,CAAiBL;AADa,GAAhB,EAEpBA,UAXmE;AAYtEX,EAAAA,aAAa,EAAE5E,SAAS,CAAC4F;AAZ6C,CAAxC,GAa5B,EAbJ;AAeArF,mBAAmB,CAACsF,YAApB,GAAmC;AACjClB,EAAAA,sBAAsB,EAAE,IADS;AAEjCV,EAAAA,UAAU,EAAE,SAASA,UAAT,GAAsB,CAAE,CAFH;AAGjC/B,EAAAA,eAAe,EAAE,SAASA,eAAT,GAA2B,CAAE,CAHb;AAIjCa,EAAAA,cAAc,EAAE,SAASA,cAAT,GAA0B,CAAE,CAJX;AAKjC6B,EAAAA,aAAa,EAAE;AALkB,CAAnC;AAQA,eAAerE,mBAAf","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _templateObject = _taggedTemplateLiteralLoose([\"\\n  width: 100%;\\n  position: relative;\\n\"], [\"\\n  width: 100%;\\n  position: relative;\\n\"]);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _taggedTemplateLiteralLoose(strings, raw) { strings.raw = raw; return strings; }\n\n/* global document */\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport List from \"./components/List\";\nimport { deepEqual } from \"./utils\";\n\nvar Wrapper = styled.div(_templateObject);\n\nvar GooglePlacesSuggest = function (_React$Component) {\n  _inherits(GooglePlacesSuggest, _React$Component);\n\n  function GooglePlacesSuggest(props) {\n    _classCallCheck(this, GooglePlacesSuggest);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this));\n\n    _this.hasFocus = false;\n\n\n    _this.state = {\n      focusedPredictionIndex: 0,\n      sessionToken: \"\",\n      predictions: [],\n      open: !!props.autocompletionRequest && props.autocompletionRequest.input\n    };\n\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    _this.onFocusChange = _this.onFocusChange.bind(_this);\n    _this.handleDOMClick = _this.handleDOMClick.bind(_this);\n    return _this;\n  }\n\n  GooglePlacesSuggest.prototype.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n    this.updatePredictions(this.props.autocompletionRequest);\n    document.addEventListener(\"click\", this.handleDOMClick);\n  };\n\n  GooglePlacesSuggest.prototype.componentWillUnmount = function componentWillUnmount() {\n    document.removeEventListener(\"click\", this.handleDOMClick);\n  };\n\n  GooglePlacesSuggest.prototype.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n    if (!deepEqual(this.props.autocompletionRequest, nextProps.autocompletionRequest) && nextProps.autocompletionRequest) {\n      this.updatePredictions(nextProps.autocompletionRequest);\n    }\n  };\n\n  GooglePlacesSuggest.prototype.handleSelectPrediction = function handleSelectPrediction(suggest) {\n    var _this2 = this;\n\n    var onSelectSuggest = this.props.onSelectSuggest;\n\n    this.setState({\n      open: false,\n      predictions: []\n    }, function () {\n      _this2.hasFocus = false;\n      _this2.placesDetails(suggest.place_id, function (result) {\n        onSelectSuggest(result, suggest);\n      });\n      _this2.setState({\n        sessionToken: \"\"\n      });\n    });\n  };\n\n  GooglePlacesSuggest.prototype.updatePredictions = function updatePredictions(autocompletionRequest) {\n    var _this3 = this;\n\n    var googleMaps = this.props.googleMaps;\n\n    var autocompleteService = new googleMaps.places.AutocompleteService();\n    if (!this.state.sessionToken) {\n      this.setState({\n        sessionToken: new googleMaps.places.AutocompleteSessionToken()\n      });\n    }\n    if (!autocompletionRequest || !autocompletionRequest.input) {\n      this.setState({\n        open: false,\n        predictions: []\n      }, function () {\n        return _this3.hasFocus = false;\n      });\n      return;\n    }\n\n    autocompleteService.getPlacePredictions(_extends({}, autocompletionRequest, { // https://developers.google.com/maps/documentation/javascript/reference?hl=fr#AutocompletionRequest\n      sessionToken: this.state.sessionToken\n    }), function (predictions, status) {\n      _this3.props.onStatusUpdate(status);\n      if (!predictions) {\n        _this3.setState({ open: true, predictions: [] });\n        return;\n      }\n      _this3.setState({\n        focusedPredictionIndex: 0,\n        open: true,\n        predictions: predictions\n      });\n    });\n  };\n\n  GooglePlacesSuggest.prototype.placesDetails = function placesDetails(placeId, callback) {\n    var googleMaps = this.props.googleMaps;\n\n    var map = new googleMaps.Map(document.createElement(\"map\"));\n\n    var placesService = new googleMaps.places.PlacesService(map);\n\n    placesService.getDetails({\n      placeId: placeId,\n      fields: [\"geometry\", \"address_components\", \"types\", \"formatted_address\"],\n      sessionToken: this.state.sessionToken\n    }, function (result, status) {\n      if (status === googleMaps.places.PlacesServiceStatus.OK) {\n        callback(result);\n      } else {\n        // eslint-disable-next-line\n        console.error(\"Places service error: \" + status);\n      }\n    });\n  };\n\n  GooglePlacesSuggest.prototype.handleKeyDown = function handleKeyDown(e) {\n    var _state = this.state,\n        focusedPredictionIndex = _state.focusedPredictionIndex,\n        predictions = _state.predictions;\n\n\n    if (predictions.length > 0) {\n      if (e.key === \"Enter\") {\n        e.preventDefault();\n        this.handleSelectPrediction(predictions[focusedPredictionIndex]);\n      } else if (e.key === \"ArrowUp\") {\n        if (predictions.length > 0 && focusedPredictionIndex > 0) {\n          this.focusPrediction(focusedPredictionIndex - 1);\n        }\n      } else if (e.key === \"ArrowDown\") {\n        if (predictions.length > 0 && focusedPredictionIndex < predictions.length - 1) {\n          this.focusPrediction(focusedPredictionIndex + 1);\n        }\n      }\n    } else if (e.key === \"Enter\") {\n      e.preventDefault();\n      var onNoResult = this.props.onNoResult;\n\n\n      onNoResult();\n    }\n  };\n\n  GooglePlacesSuggest.prototype.focusPrediction = function focusPrediction(index) {\n    this.setState({ focusedPredictionIndex: index });\n  };\n\n  GooglePlacesSuggest.prototype.onFocusChange = function onFocusChange(val) {\n    this.hasFocus = val;\n  };\n\n  GooglePlacesSuggest.prototype.handleDOMClick = function handleDOMClick() {\n    if (!this.hasFocus && this.state.open) {\n      this.setState({ open: false });\n    }\n  };\n\n  GooglePlacesSuggest.prototype.render = function render() {\n    var _this4 = this;\n\n    var _state2 = this.state,\n        focusedPredictionIndex = _state2.focusedPredictionIndex,\n        open = _state2.open,\n        predictions = _state2.predictions;\n    var _props = this.props,\n        children = _props.children,\n        customContainerRender = _props.customContainerRender,\n        customRender = _props.customRender,\n        displayPoweredByGoogle = _props.displayPoweredByGoogle,\n        textNoResults = _props.textNoResults;\n\n    return React.createElement(\n      Wrapper,\n      { onKeyDown: this.handleKeyDown },\n      children,\n      open && React.createElement(List, {\n        items: predictions,\n        activeItemIndex: focusedPredictionIndex,\n        customContainerRender: customContainerRender,\n        customRender: customRender,\n        displayPoweredByGoogle: displayPoweredByGoogle,\n        onSelect: function onSelect(suggest) {\n          return _this4.handleSelectPrediction(suggest);\n        },\n        textNoResults: textNoResults,\n        onFocusChange: this.onFocusChange\n      })\n    );\n  };\n\n  return GooglePlacesSuggest;\n}(React.Component);\n\nGooglePlacesSuggest.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.any.isRequired,\n  googleMaps: PropTypes.object.isRequired,\n  onNoResult: PropTypes.func,\n  onSelectSuggest: PropTypes.func,\n  onStatusUpdate: PropTypes.func,\n  customContainerRender: PropTypes.func,\n  customRender: PropTypes.func,\n  displayPoweredByGoogle: PropTypes.bool,\n  autocompletionRequest: PropTypes.shape({\n    input: PropTypes.string.isRequired\n  }).isRequired,\n  textNoResults: PropTypes.string\n} : {};\n\nGooglePlacesSuggest.defaultProps = {\n  displayPoweredByGoogle: true,\n  onNoResult: function onNoResult() {},\n  onSelectSuggest: function onSelectSuggest() {},\n  onStatusUpdate: function onStatusUpdate() {},\n  textNoResults: \"No results\"\n};\n\nexport default GooglePlacesSuggest;"]},"metadata":{},"sourceType":"module"}